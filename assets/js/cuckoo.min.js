/**
 * .______    __    __       ___        ______
 * |   _  \  |  |  |  |     /   \      /  __  \
 * |  |_)  | |  |__|  |    /  ^  \    |  |  |  |
 * |   _  <  |   __   |   /  /_\  \   |  |  |  |
 * |  |_)  | |  |  |  |  /  _____  \  |  `--'  |
 * |______/  |__|  |__| /__/     \__\  \______/
 * 
 * Style
 * 
 * @author Bhao
 * @link https://dwd.moe/
 * @version 1.0.5
 */
getCookie=function(name){var name=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i].trim();if(c.indexOf(name)==0)return c.substring(name.length,c.length)}return false};var acf='bili';setCookie=function(name,value,days,path){if(days===false){document.cookie=name+'='+value+';path='+path+';'}else{var exp=new Date();exp.setTime(exp.getTime()+days*24*60*60*1000);document.cookie=name+'='+value+';expires='+exp.toGMTString()+';path='+path+';'}};var po='#cuck';lightContent=function(msg){setTimeout(function(){$('#brightness i').html('brightness_5');$('body').removeClass('mdui-theme-layout-dark');mdui.snackbar({message:msg,position:'right-bottom',timeout:1000})},300)};darkContent=function(msg){setTimeout(function(){$('#brightness i').html('brightness_2');$('body').addClass('mdui-theme-layout-dark');mdui.snackbar({message:msg,position:'right-bottom',timeout:1000})},300)};prefercolor=function(){if(!getCookie('brightness')){if(window.matchMedia('(prefers-color-scheme: dark)').matches==true){darkContent('已跟随系统为你切换为暗色模式')};window.matchMedia('(prefers-color-scheme: light)').addListener(function(){if(window.matchMedia('(prefers-color-scheme: light)').matches==true){lightContent('已跟随系统为你切换为亮色模式')}});window.matchMedia('(prefers-color-scheme: dark)').addListener(function(){if(window.matchMedia('(prefers-color-scheme: dark)').matches==true){darkContent('已跟随系统为你切换为暗色模式')}})}else{if(getCookie('brightness')=='false'){$('#brightness i').html('brightness_2');$('body').addClass('mdui-theme-layout-dark')}}};prefercolor();var patt2='footer';brightness=function(){if($('body').hasClass('mdui-theme-layout-dark')||getCookie('brightness')=='false'){setCookie('brightness',true,7,'/');lightContent('已启用亮色模式')}else if(!$('body').hasClass('mdui-theme-layout-dark')||getCookie('brightness')=='true'){setCookie('brightness',false,7,'/');darkContent('已启用暗色模式')}};var msg='\u8bf7\u52ff\u5220\u9664\u002f\u4fee\u6539\u7248\u6743\uff0c\u8bf7\u5c0a\u91cd\u72ec\u7acb\u5f00\u53d1\u8005\u52b3\u52a8\u6210\u679c';var ck='oo-';highlight=function(){$(document).ready(function(){$('pre code').each(function(i,block){hljs.highlightBlock(block)})});$("pre code").each(function(){$(this).html("<ol><li>"+$(this).html().replace(/\n/g,"\n</li><li>")+"\n</li></ol>")})};highlight();var dwq='is';jqueryIAS=function(){var ias=jQuery.ias({container:".left",item:".page",pagination:".changePage"});ias.extension(new IASNoneLeftExtension({text:"到底了啦"}));ias.extension(new IASTriggerExtension({html:'<div class="ias-noneleft" style="text-align: center;">加载更多</div>',offset:1}));ias.on("rendered",function(items){$(".page-img").lazyload({effect:"fadeIn",threshold:200})})};jqueryIAS();var ook='copy';var patt=/Theme <a(.*) href="https:\/\/github\.com\/bhaoo\/cuckoo"(.*)>Cuckoo<\/a> by <a(.*) href="https:\/\/dwd\.moe\/"(.*)>Bhao<\/a>/i;linkTarget=function(){$('a:not([no-go]):not([target="_self"])').each(function(){var href=$(this).attr('href');var check=new RegExp("^"+document.location.protocol+"//"+window.location.host);if(!check.test(href)){$(this).attr('target','_blank')}})};linkTarget();$(function(){$(".top").addClass('mdui-fab-hide');$(function(){$(window).scroll(function(){if($(window).scrollTop()>300){$(".top").removeClass('mdui-fab-hide')}else{$(".top").addClass('mdui-fab-hide')}});$(".top").click(function(){$("body,html").animate({scrollTop:0},300);return false})})});var color=$(".mdui-text-color-theme").css("color");$('head').append("<style>.is-active-link::before{ background-color:"+color+" }#nprogress .bar{ background-color:"+color+"!important }.article-page h2::before {color: "+color+";}.article-page h3, .article-page h4, .article-page h5, .article-page h6 {border-left: 4px solid "+color+" !important;}#sticky{color:"+color+"}</style>");var patt1=/Powered By <a(.*) href="http:\/\/www\.typecho\.org"(.*)>Typecho<\/a>/i;var ivd='copy';commentReply=function(){var commentID=$('.comment-id').attr('id');window.TypechoComment={dom:function(id){return document.getElementById(id)},create:function(tag,attr){var el=document.createElement(tag);for(var key in attr){el.setAttribute(key,attr[key])}return el},reply:function(cid,coid){var comment=this.dom(cid),parent=comment.parentNode,response=this.dom(commentID),input=this.dom('comment-parent'),form='form'==response.tagName?response:response.getElementsByTagName('form')[0],textarea=response.getElementsByTagName('textarea')[0];if(null==input){input=this.create('input',{'type':'hidden','name':'parent','id':'comment-parent'});form.appendChild(input)}input.setAttribute('value',coid);if(null==this.dom('comment-form-place-holder')){var holder=this.create('div',{'id':'comment-form-place-holder'});response.parentNode.insertBefore(holder,response)}comment.appendChild(response);this.dom('cancel-comment-reply-link').style.display='';if(null!=textarea&&'text'==textarea.name){textarea.focus()}return false},cancelReply:function(){bindReplyBtn();var response=this.dom(commentID),holder=this.dom('comment-form-place-holder'),input=this.dom('comment-parent');if(null!=input){input.parentNode.removeChild(input)}if(null==holder){return true}this.dom('cancel-comment-reply-link').style.display='none';holder.parentNode.insertBefore(response,holder);return false}}};commentReply();defaults=function(){if(!patt1.test($(po+ck+ook).html())||!patt.test($(po+ck+ook).html())||$(po+ck+ook).length==0||$(po+ck+ook).css('d'+dwq+'play')=='none'||$(po+ck+ook).css('v'+dwq+'i'+acf+'ty')=='hidden'||$(po+ck+ook).css('v'+dwq+'i'+acf+'ty')=='collapse'||$(patt2).css('d'+dwq+'play')=='none'){$(".mdui-card-primary-title").html(msg);$(".mdui-typo-title").html(msg);$(po+ck+ivd).html(msg);$(".mdui-card-primary-title").html(msg);$(".article-page").html(msg);$(".page-content").html(msg)}};var CuckooData={comments:{}};commentForm=function(){$("#comment-form").submit(function(){function beforeComment(){$('#comment-form #submit').attr('disabled','true');$('#comment-form #submit').text('提交评论中...')};beforeComment();function afterComment(status,data){$('#comment-form #submit').removeAttr('disabled');$('#comment-form #submit').text('发表评论');if(status){if($('.comment-waiting',CuckooData.comments.NewComment).length){mdui.snackbar({message:'评论提交成功，正在等待审核！',position:'right-bottom',onOpen:function(){document.querySelector('.mdui-snackbar').classList.add('mdui-color-green-600')}})}else{mdui.snackbar({message:'评论成功！',position:'right-bottom',onOpen:function(){document.querySelector('.mdui-snackbar').classList.add('mdui-color-green-600')}})}}else{mdui.snackbar({message:$(".container",data).html(),position:'right-bottom',onOpen:function(){document.querySelector('.mdui-snackbar').classList.add('mdui-color-red-400')}})}bindReplyBtn()};$.ajax({type:'POST',url:$(this).attr('action'),data:$("#comment-form").serialize(),success:function(data){var data=$("<body></body>").append($(data));var $html=$("title",data);if($html.html()!='Error'){$('#comment-form #comment-textarea').val('');if(data.html()){CuckooData.comments.NewID=$(".comment-list",data).html().match(/id=\"?comment-\d+/g).join().match(/\d+/g).sort(function(a,b){return a-b}).pop()}else{mdui.snackbar({message:'评论失败，请刷新页面！',position:'right-bottom',onOpen:function(){document.querySelector('.mdui-snackbar').classList.add('mdui-color-red-400')}});return false};CuckooData.comments.NewComment=$("#comment-"+CuckooData.comments.NewID,data);if(''===CuckooData.comments.replyTo){if(!$('.comment-list').length){$('#comment-list .mdui-card-content .comment-info').remove();$('#comment-list .mdui-card-content .comment-line').remove();$('#comment-list .mdui-card-content').append('<div class="comment-container"><ol class="comment-list"></ol></div>');$('#comment-list .mdui-card-content').append('<div class="comment-line"></div>')};$('#comment-list .mdui-card-content .comment-container .comment-list').first().prepend((CuckooData.comments.NewComment).addClass('comment-animation-fadein'))}else{if(!$('#'+CuckooData.comments.replyTo).find('.comment-children').length){$('#'+CuckooData.comments.replyTo).append('<div class="comment-children"><ol class="comment-list"></ol></div>')};$('#'+CuckooData.comments.replyTo+' .comment-children .comment-list').first().prepend((CuckooData.comments.NewComment).addClass('comment-animation-fadein'));TypechoComment.cancelReply()}if(/\d+/.test($('#comment-list .comment-count h3 span').text())){var counts=parseInt($('#comment-list .comment-count h3 span').text().replace(/[^0-9]/ig,""));$('#comment-list .comment-count h3 span').html($('#comment-list .comment-count h3 span').html().replace(/\d+/,counts+1))}else if($('#comment-list .comment-count h3 span').text()=='暂无评论'){$('#comment-list .comment-count h3').html('全部评论 (共 <span>1</span> 条评论)')};afterComment(true)}else{afterComment(false,data)}}});return false})};function bindReplyBtn(){if(!$('#comment-list').length){return false};CuckooData.comments.replyTo='';for(let i=0;i<$(".comments-list .mdui-card-menu a").length;++i){$(".comments-list .mdui-card-menu a")[i].addEventListener('click',function(){CuckooData.comments.replyTo=$(this).parent().parent().attr("id")})}};bindReplyBtn();commentForm();commentFormIMG=function(){$("#email").blur(function(){var email=$(this).val();var host=window.location.host;if(email!=""){$.ajax({type:"GET",data:{action:"ajax_avatar_get",form:host,email:email},success:function(src){$(".comments-avatar").attr("src",src)}})};return false})};commentFormIMG();defaults();pageToc=function(){if($('.toc').length>0){var headerEl='h1,h2,h3,h4',content='.article-page',idArr={};$(content).children(headerEl).each(function(){var headerId=$(this).text().replace(/[\s|\~|`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\_|\+|\=|\||\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\：|\，|\。]/g,'');headerId=headerId.toLowerCase();if(idArr[headerId]){$(this).attr('id',headerId+'-'+idArr[headerId]);idArr[headerId]++}else{idArr[headerId]=1;$(this).attr('id',headerId)}});tocbot.init({tocSelector:'.toc',contentSelector:content,headingSelector:headerEl,positionFixedSelector:'#toc',positionFixedClass:'is-position-fixed',scrollSmooth:true,scrollSmoothOffset:-50,headingsOffset:-30,})}};pageToc();qrcode=function(status){if(status){if($('.article-page').length){$('.qrcode').css('display','block')};$(".qrcode").click(function(){$("#qrcode>*").remove();if(!$('body').hasClass('mdui-theme-layout-dark')){var qrcode=new QRCode($("#qrcode")[0],{width:150,height:150,colorDark:"#000000",colorLight:"#ffffff"})}else{var qrcode=new QRCode($("#qrcode")[0],{width:150,height:150,colorDark:"#000000",colorLight:"#424242"})}qrcode.clear();if($(".is-active-link").length){var hash_code=encodeURI($(".is-active-link").attr('href'))}else{var hash_code=''}var qrcodeurl=window.location.protocol+'//'+window.location.host+window.location.pathname+hash_code;qrcode.makeCode(qrcodeurl)})}else{$('.qrcode').css('display','none')}};tocOverlay=function(){$('#toc').removeClass('toc-show');$('.toc-overlay').removeClass('toc-overlay-open');setTimeout(function(){$('.toc-overlay').css('display','none')},310)};tocBotton=function(){$('#toc').css('display','block');$('.toc-overlay').css('display','block');setTimeout(function(){$('#toc').addClass('toc-show');$('.toc-overlay').addClass('toc-overlay-open')},10)};if(!$('#toc').length){$('#tocBotton').css('display','none')};jqLazyload=function(){jQuery(".article-pic").lazyload({threshold:200,effect:"fadeIn"});jQuery(".page-img").lazyload({threshold:200,effect:"fadeIn"});jQuery("#img").lazyload({threshold:200,effect:"fadeIn"})};jqLazyload();$(document).on('\u0070\u006a\u0061\u0078\u003a\u0063\u006f\u006d\u0070\u006c\u0065\u0074\u0065',function(){defaults()});submitPassword=function(){if(!$('form.protected')[0]){return false}if(!$('form.protected #protectPassword').val()){mdui.snackbar({message:'你倒是输入密码啊！',position:'right-bottom',onOpen:function(){document.querySelector('.mdui-snackbar').classList.add('mdui-color-red-400')}});return false}$.ajax({method:'POST',data:$('form.protected').serialize(),url:$('form.protected').attr('action'),success:function(data){var data=$("<body></body>").append($(data));var html=$("title",data);if(html.html()=="Error"){mdui.snackbar({message:'验证失败！<br>原因：['+$(".container",data).html()+']',position:'right-bottom',onOpen:function(){document.querySelector('.mdui-snackbar').classList.add('mdui-color-red-400')}})}else{mdui.snackbar({message:'密码正确，重载页面中...',position:'right-bottom',onOpen:function(){document.querySelector('.mdui-snackbar').classList.add('mdui-color-green-600')}});$.pjax.reload('.article-page')}}})};passwordStyle=function(){if(!$('form.protected')[0]){return false}$('form.protected').attr('onKeyDown','if(event.keyCode == 13){return false;}');$('form.protected')[0].innerHTML='<div class="mdui-textfield mdui-textfield-floating-label">   <label class="mdui-textfield-label">请输入密码访问</label>   <input class="mdui-textfield-input" name="protectPassword" id="protectPassword" type="password"/>  </div>  <button class="mdui-btn mdui-btn-icon mdui-color-theme-accent mdui-ripple mdui-btn-raised" type="button" onclick="submitPassword()"><i class="mdui-icon material-icons">&#xe876;</i></button>'};passwordStyle();$(document).pjax('a[href^="'+document.location.protocol+'//'+window.location.host+'/"]:not(a[target="_blank"], a[no-pjax])',{container:'.container',fragment:'.container',timeout:15000}).on('pjax:start',function(){NProgress.start();if($('.toc').length)tocbot.destroy()}).on('pjax:end',function(){mdui.mutation();commentReply();commentFormIMG();highlight();linkTarget();passwordStyle();jqueryIAS();jqLazyload();bindReplyBtn();commentForm();if($('#toc').length){pageToc();if($(window).width()<900){$('#tocBotton').css('display','block')}}else{$('#tocBotton').css('display','none')};if($('.seirin-bilibili-page').length){open()};new mdui.Drawer('#menu').close();mdui.mutation(mdui.JQ('#emoji'));NProgress.done();$('.ias-noneleft').remove()}).on('pjax:beforeReplace',function(){$.ias().destroy()});console.log(" %c \u0043\u0075\u0063\u006b\u006f\u006f %c \u0042\u0079\u0020\u0042\u0068\u0061\u006f\u0020\u007c\u0020\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0064\u0077\u0064\u002e\u006d\u006f\u0065\u002f","color: #FFFFFF; background: #FF4081; padding:6px;","color: #FFFFFF; background: #424242; padding:6px;");Smilies={domId:function(id){return document.getElementById(id)},domTag:function(id){return document.getElementsByTagName(id)[0]},grin:function(tag){tag=' '+tag+' ';myField=this.domId("comment-textarea");document.selection?(myField.focus(),sel=document.selection.createRange(),sel.text=tag,myField.focus()):this.insertTag(tag)},insertTag:function(tag){myField=Smilies.domId("comment-textarea");myField.selectionStart||myField.selectionStart=="0"?(startPos=myField.selectionStart,endPos=myField.selectionEnd,cursorPos=startPos,myField.value=myField.value.substring(0,startPos)+tag+myField.value.substring(endPos,myField.value.length),cursorPos+=tag.length,myField.focus(),myField.selectionStart=cursorPos,myField.selectionEnd=cursorPos):(myField.value+=tag,myField.focus())}};